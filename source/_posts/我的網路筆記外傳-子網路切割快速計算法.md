---
title: 我的網路筆記外傳-子網路切割快速計算法
date: 2020-04-10 13:48:55
tags:
---

#### 在 IPv4 的協定下，IP 位址是由 4 個 8 位元組成的數字來表達，如 200.1.1.130，一個IP位址分為網路位址 ( Network Address ) +主機位址 ( Host Address )，依網路位址所佔的位元數不同而分為A、B、C、D 級網路，IP 數字的 0 及 255 是預設的主機及廣播位址無法使用，所以每個數字可用的 IP 位址變化只有 254 個 ( 256-2 )，這也就是一般 C 級網段的 Gateway IP 都預設 x.x.x.254 的緣故，IPv4 的位址因為 ABCD 型網段的配法而無法完全應用到 254 四次方那樣多的可用 IP 值，隨著世界上主機數遞增，IP 位址漸漸不夠用了，在 IPv6 的應用尚未完全普及之時，就得利用切分子網路 ( Subnet ) 的方式來有效分配IP位址

#### 某台網路主機，它的 IP 及子網路表示法為 200.1.1.130/28，從這樣簡短的字句，你該立刻看出什麼呢

#### 1.子網路的遮罩位址為何
#### 該數字 28 是代表遮罩 IP 位址的網路位址所佔位元數，即：11111111.11111111.11111111.11110000，遮罩位元為 1 者是讓 IP 通過 ( 合法 )，0 者為阻擋，所以從上述的 32 位元分布，我們得知它的網段型態是屬於 C 型位址，因此十進位的遮罩位址就是 255.255.255.240 ( 只需要求算右邊那四個 1 )，即 128 + 64 + 32 + 16 = 240

#### 2.可切成幾個子網路
#### 數字 1 是讓 IP 通過，所以只要注意 1 的位元變化組合 ( 因為後面的 0 怎麼變化都會被擋住 )，( 1111 ) = 2^4 = 16，共有 16 種變化。

#### 3.每個子網段有幾個 IP 值
#### 子網路 ip 數為 256/16 - 2 = 14 ( 頭尾 IP 要去除 )

#### 4.每個子網路的 IP 起迄位址
#### 200.1.1.0-15，200.1.1.16-31，200.1.1.32-48，...，200.1.1.240-255
#### 例如，主機 IP 為 200.1.1.130/28 的所在子網路起迄IP為: 130/16 = 8， 16 * 8 = 128，128 + 16 - 1 = 143 故在 200.1.1.128-143。
